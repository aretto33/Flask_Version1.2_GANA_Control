{% extends "base.html" %}
{% block content %}

<div class="row justify-content-center">
    <div class="col-md-5">

        <h3 class="text-center mb-4">Iniciar sesión</h3>

        <form method="POST" class="card p-4 shadow-lg">

            <img src="{{ url_for('static', filename='img/login.png') }}" class="img-fluid mb-3">

            <label>Usuario:</label>
            <input type="text" name="usuario" class="form-control mb-3" required>

            <label>Contraseña:</label>
            <input type="password" name="password" class="form-control mb-3" required>

            <label>Tipo de usuario:</label>
            <div class="d-flex gap-3 mb-3">
                <label><input type="radio" name="rol" value="Veterinario" onclick="mostrarProductores(false)"> Veterinario</label>
                <label><input type="radio" name="rol" value="Productor" onclick="mostrarProductores(true)"> Productor</label>
                <label><input type="radio" name="rol" value="Comprador" onclick="mostrarProductores(false)"> Comprador</label>
            </div>

            <!-- SELECT DE PRODUCTORES (SE OCULTA POR DEFAULT) -->
            <div id="selectProductores" class="mb-3" style="display: none;">
                <label>Seleccione productor:</label>
                <select name="fk_productor" class="form-control">
                <option value="">-- Seleccione --</option>
                {% for p in productores %}
                    <option value="{{ p[0] }}">{{ p[1] }}</option>
                {% endfor %}
                </select>


            </div>

            <button class="btn btn-primary w-100">Ingresar</button>
        </form>

    </div>
</div>

<script>
    function mostrarProductores(mostrar) {
        document.getElementById("selectProductores").style.display = mostrar ? "block" : "none";
    }
</script>

{% endblock %}
